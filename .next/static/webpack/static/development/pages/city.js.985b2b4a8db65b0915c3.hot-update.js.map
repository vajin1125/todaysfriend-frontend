{"version":3,"file":"static/webpack/static\\development\\pages\\city.js.985b2b4a8db65b0915c3.hot-update.js","sources":["webpack:///./pages/city.js"],"sourcesContent":["import { Row, Col, AutoComplete, DatePicker, Select, Icon, Spin } from 'antd'\r\nimport Link from 'next/link'\r\nimport axios from 'axios'\r\nimport YouTube from 'react-youtube';\r\nimport { Header } from './components/Header'\r\nimport { Footer } from './components/Footer'\r\nimport { divider, booking_top_banner, korea, bar_seoul, bar_busan, bar_jeju, bar_daegu, bar_gyeonju, bar_jeonju, bar_others, product_summary_image } from './components/images'\r\nimport { language_list } from './components/language_list'\r\nimport { base_url } from './components/base_url'\r\nimport { any } from 'prop-types';\r\n\r\n\r\nconst { RangePicker } = DatePicker;\r\nconst Option = Select.Option;\r\n\r\nconst languageOption = language_list.map((language) => \r\n    <Option key={language.name.toString()} value={language.name}>{language.name}</Option>\r\n)\r\n\r\n// Viedo player\r\nconst opts = {\r\n    height: '240',\r\n    width: '100%',\r\n    playerVars: { // https://developers.google.com/youtube/player_parameters\r\n        autoplay: 0\r\n    }\r\n}\r\n\r\nexport default class extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            filterdata: [],\r\n            productsData: [],\r\n            productsImgData: [],\r\n            cityArray: [],\r\n            cityBar: '',\r\n            loading: false,\r\n            fromDate: '',\r\n            toDate: '',\r\n            selectTime: '',\r\n            language: []\r\n        }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        \r\n        const surl = window.location.href\r\n        const spl_url = surl.split(\"=\")\r\n        const cityname = spl_url[1]\r\n\r\n        document.title = cityname + \"-Todays Friend\"\r\n\r\n        this.setState({\r\n            loading: true\r\n        });\r\n\r\n        this.setState({\r\n            cityBar: \"bar_\" + cityname\r\n        });\r\n\r\n        axios({\r\n            method: 'post',\r\n            url: base_url + \"/api/city_products\",\r\n            data: {\r\n                cityname\r\n            }\r\n        })\r\n        .then((response) => {\r\n            console.log(response)\r\n            this.setState({\r\n                productsData: response.data[0],\r\n                productsImgData: response.data[1],\r\n                loading: false\r\n            });\r\n\r\n            let mergeArray = this.state.productsImgData.map(x => Object.assign(x, this.state.productsData.find(y => y.pdu_ustr == x.pdu_ustr)));\r\n            this.setState({\r\n                cityArray: mergeArray\r\n            });\r\n        })\r\n        .catch((error) => {\r\n            console.log(error)\r\n        });\r\n    }\r\n\r\n    cityBarGen = () => {\r\n        if (this.state.cityBar != '') {\r\n            let bar = this.state.cityBar\r\n            if (bar === 'bar_seoul') return <img src={bar_seoul} alt={this.state.cityBar} style={{width:'90%'}}/>\r\n            if (bar === 'bar_busan') return <img src={bar_busan} alt={this.state.cityBar} style={{width:'90%'}}/>\r\n            if (bar === 'bar_jeju') return <img src={bar_jeju} alt={this.state.cityBar} style={{width:'90%'}}/>\r\n            if (bar === 'bar_gyeonju') return <img src={bar_gyeonju} alt={this.state.cityBar} style={{width:'90%'}}/>\r\n            if (bar === 'bar_jeonju') return <img src={bar_jeonju} alt={this.state.cityBar} style={{width:'90%'}}/>\r\n            if (bar === 'bar_daegu') return <img src={bar_daegu} alt={this.state.cityBar} style={{width:'90%'}}/>\r\n            if (bar === 'bar_others') return <img src={bar_others} alt={this.state.cityBar} style={{width:'90%'}}/>\r\n        } else {\r\n            return <Spin />\r\n        }\r\n    }\r\n\r\n    handleChangeTime = value => {\r\n        console.log(`selected Time ${value}`);\r\n        this.setState({\r\n            selectTime: value\r\n        });\r\n    }\r\n\r\n    langChange = value => {\r\n        console.log(`selected ${value}`);\r\n        this.setState({\r\n            language: value\r\n        })\r\n    }\r\n    \r\n    onChangeDate = (date, dateString) => {\r\n        console.log(date, dateString);\r\n        this.setState({\r\n            fromDate: dateString[0],\r\n            toDate: dateString[1]\r\n        })\r\n    }\r\n\r\n    onBlurTime = value => {\r\n        console.log(\"selectedDate\", this.state.selectTime)\r\n    }\r\n    \r\n\r\n    render() {\r\n        console.log(\"Date\",this.state.fromDate, this.state.toDate)\r\n        console.log(\"Time\",this.state.selectTime)\r\n        console.log(\"Language\",this.state.language)\r\n        const { cityArray } = this.state;\r\n        const productCard = cityArray.map(product => {\r\n            let imageLink = base_url + \"/\" + product.pdu_img_url + \"/\" + product.pdu_img_name;\r\n            return (\r\n                <Link href={\"/product_detail?id=\" + product.id} key={product.id}>\r\n                    <div style={{width:\"95%\",height:200,border:\"1px solid rgba(0, 0, 0, 0.2)\",borderRadius:30,float:\"right\",marginBottom:20}}>\r\n                        <Row>\r\n                            <Col span={10}>\r\n                                <div className=\"productImage\" style={{width:\"100%\",height:200}}>\r\n                                    <img src={imageLink} alt=\"product image\" style={{width:\"100%\",height:198,borderRadius:\"20px 0 0 20px\"}}/>\r\n                                </div>\r\n                            </Col>\r\n                            <Col span={14} style={{textAlign:\"justify\",padding:10}}>\r\n                                <h2>{product.pdu_name}</h2>\r\n                                <Row type=\"flex\" justify=\"space-between\">\r\n                                    <Col span={10}>\r\n                                        <p>{product.pdu_type}</p>\r\n                                    </Col>\r\n                                    <Col span={10} style={{position:'relative'}}>\r\n                                        <div style={{width:100,backgroundColor:\"#0498c7\",borderRadius:'20px 0 0 20px',textAlign:'center',padding:'3px 10px',fontSize:12,position:'absolute',top:-20,right:-10}}>\r\n                                            <span style={{color:\"#fff\"}}>â‚©   {product.pdu_price}</span>\r\n                                        </div>\r\n                                    </Col>\r\n                                </Row>\r\n                                <Row type=\"flex\" justify=\"space-after\" style={{height:60}}>\r\n                                    <p style={{margin:0,overflow:'hidden',textOverflow:'ellipsis',lineClamp:3}}>{product.pdu_brief_description}</p>\r\n                                </Row>\r\n                                <div>\r\n                                    <Icon type=\"clock-circle\" theme=\"twoTone\" twoToneColor=\"#eb2f96\"/><span>  {product.pdu_duration}</span>\r\n                                </div>\r\n                                <div>\r\n                                    <Icon type=\"smile\" theme=\"twoTone\" /><span>  {product.pdu_price_include}</span>\r\n                                </div>\r\n                            </Col>\r\n                        </Row>\r\n                    </div>\r\n                </Link>\r\n            );\r\n        });\r\n\r\n        return(\r\n            <div>\r\n                <Header selected='city'/>\r\n                <Row>\r\n                    <Col span={24} style={{height:'20vw',position:'relative'}}>\r\n                        <img src={booking_top_banner} alt='booking_top_banner' style={{width:'100%',position:'absolute',left:0,bottom:0}}/>\r\n                    </Col>\r\n                    <img src={korea} alt='korea' style={{width:200,position:'absolute',left:'50%',bottom:-80,marginLeft:-100,zIndex:50}}/>\r\n                </Row>\r\n                <Row style={{background:'#FFF',textAlign:'center',paddingTop:80}}>\r\n                    <img src={divider} alt=\"divider\" style={{width:630}}/>\r\n                </Row>\r\n                <Row style={{textAlign:\"center\"}}>\r\n                    <div style={{width:900,margin:'0 auto'}}>\r\n                        <Row style={{marginTop:20,position:'relative'}}>\r\n                            {this.cityBarGen()}\r\n                        </Row>\r\n                        <Row type=\"flex\" justify=\"space-around\" style={{marginTop:30}}>\r\n                            <Col span={7}>\r\n                                <RangePicker onChange={this.onChangeDate} style={{}} placeholder={['Day', 'Day']}/>\r\n                            </Col>\r\n                            <Col span={7}>\r\n                                <Select placeholder=\"Time\" style={{width:\"100%\"}} onChange={this.handleChangeTime} onBlur={this.onBlurTime}>\r\n                                    <Option value=\"before12\">Before 12</Option>\r\n                                    <Option value=\"12-17\">12 ~ 17</Option>\r\n                                    <Option value=\"after17\">After 17</Option>\r\n                                </Select>\r\n                            </Col>\r\n                            <Col span={7}>\r\n                                <Select mode=\"multiple\" onChange={this.langChange} placeholder=\"Languages\" style={{width:\"100%\"}}>\r\n                                    {languageOption}\r\n                                </Select>\r\n                            </Col>\r\n                        </Row>\r\n                    </div>\r\n                    <Spin spinning={this.state.loading} size=\"large\">\r\n                        <div style={{width:\"60%\",margin:'0 auto'}}>\r\n                            <Row type=\"flex\" justify=\"center\" style={{marginTop:50}}>\r\n                                <Col span={8}>\r\n                                    <YouTube\r\n                                        videoId=\"4pSzhZ76GdM\"\r\n                                        opts={opts}\r\n                                        // onReady={this._onReady}\r\n                                    />\r\n                                    <p style={{textAlign:'left',fontSize:16,color:'#0498c7'}}>\r\n                                        As the biggest city, Korea's past, present and future coexist. You can do everything In the capital city.\r\n                                    </p>\r\n                                </Col>\r\n                                <Col span={16}>\r\n                                    {productCard}\r\n                                </Col>\r\n                            </Row>\r\n                        </div>\r\n                    </Spin>\r\n                </Row>\r\n                <Footer selected=\"city\"/>\r\n            </div>\r\n        )\r\n    }\r\n}"],"mappings":"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","sourceRoot":""}